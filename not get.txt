node_modules
.git
.vscode
.DS_Store
Thumbs.db
.git
.gitignore
delete-account.html
favicon.ico
privacy.html
test.html
get
extensions.txt
accounts.txt
github.txt
how_id_6.md
notification discuse.txt
formatted_drizzle_files (1).md
formatted_drizzle_files.md
list.json
docs

أريدك أن تقوم بقراءة جميع الملفات التي ارسلتها لك  قراءة شاملة ودقيقة، بما في ذلك ملفات HTML وCSS وJavaScript وأي ملفات أخرى تابعة للمشروع.
بعد القراءة، قم بإجراء تحليل معمّق للكود داخل كل ملف، ثم استخرج وفهم النقاط التالية بدقة:

العلاقات بين الملفات وكيف يتفاعل كل ملف مع الآخر.

تسلسل وتدفق البيانات (Data Flow) والعمليات المنطقية في النظام من البداية للنهاية.

تحديد جميع الوظائف والدوال (Functions) داخل كل ملف، وتحليل:

مهمتها

مدخلاتها

مخرجاتها

الملفات أو الدوال التي تعتمد عليها

فهم هيكل المشروع (Project Architecture) بشكل كامل، بما في ذلك:

كيفية تحميل الملفات

كيف يتم تضمين الـ Scripts

كيف يتم تنفيذ الأكواد أثناء التشغيل

إنشاء نموذج داخلي دقيق ومتكامل عن طريقة عمل المشروع بالكامل بحيث تتمكن لاحقًا من:

شرح أي جزء من الكود عند الطلب

إجراء أي تعديل دون الإضرار بباقي الملفات

اقتراح تحسينات في الأداء والتنظيم والأمان

اكتشاف الأخطاء الحالية أو المحتملة

تتبع أي مشكلة في المشروع ومعرفة مكانها بدقة

حدّد نقاط الضعف في التصميم أو المنطق البرمجي

إذا لاحظت وجود تكرار غير ضروري أو شيفرات يمكن تحسينها، قم بتوثيق ذلك.

إذا كان هناك وظائف غير مستخدمة، أو متغيرات غير مفعلة، أو أكواد ميتة فقم بالإشارة إليها.

ضع تصورًا واضحًا عن:

الواجهات الأمامية (Front-end UI logic)

التعامل مع البيانات

الأساليب المستخدمة في التحقق، التخزين، أو التفاعل مع السيرفر إن وُجد

تأكد أيضًا من فهم الترابط البيني بين ملفات المشروع ككل باعتبارها نظامًا واحدًا وليس ملفات منفصلة.

بعد إتمام التحليل، يجب أن تكون قادرًا على إدارة المشروع كما لو كنت أنت من قام ببنائه، مع استعداد كامل للإجابة عن أي سؤال أو تنفيذ أي تعديل أو شرح أي جزء.


























المهمة: تنفيذ عملية توثيق معيارية وشاملة (JSDoc) لجميع الدوال والوحدات (Modules) والمتغيرات الثابتة (Constants) داخل جميع ملفات JavaScript في المشروع والتاكد من صحتها ومطابقتها للكود.

1. الهدف من التوثيق
توفير فهم فوري لدور ووظيفة كل جزء من الكود دون الحاجة لقراءة كامل المنطق الداخلي.

تحديد المدخلات والمخرجات بوضوح لتقليل أخطاء وقت التشغيل (Runtime Errors) ورفع قابلية الصيانة.

تسهيل عملية التحويل المستقبلية إلى نظام ES Modules (Import/Export).

2. الإرشادات التفصيلية للتطبيق
يجب تطبيق كتلة توثيق JSDoc قبل تعريف كل دالة رئيسية أو متغيرة ثابتة مُصدّرة (في حالة التحويل إلى وحدات) أو مُستخدمة في النطاق العام.

أ. التوثيق العام للدالة
استخدم العلامات التالية لكل دالة:

@file: اسم الملف الذي يحتوي على الكود (يُضاف في بداية الملف).

@description: وصف موجز وواضح لمهمة الدالة (ماذا تفعل).

@function: يُعلن أن الكائن الموثق هو دالة.

@param {DataType} paramName - [اختياري] وصف دور المدخل.: يجب تحديد نوع البيانات (مثل string, number, boolean, Object<User>, Promise<Array>) واسم المدخل ووصفه.

@returns {DataType} - وصف للقيمة التي تعيدها الدالة.: يجب تحديد نوع البيانات المُعادة.

@throws {ErrorType} - [اختياري] إذا كانت الدالة ترمي خطأ معين (مثل خطأ API).

@see {OtherFunction/File} - [اختياري] لربط الدالة بدوال أو ملفات أخرى ذات صلة.

مثال على دالة في js/auth.js:

JavaScript

/**
 * @description تتحقق من بيانات تسجيل دخول المستخدم عبر استدعاء API.
 * @function loginUser
 * @param {string} phone - رقم هاتف المستخدم.
 * @param {string} password - كلمة مرور المستخدم.
 * @returns {Promise<Object>} - وعد (Promise) يحتوي على كائن استجابة الخادم (يحتوي على token أو خطأ).
 * @throws {Error} - إذا فشل الاتصال بالشبكة (Network Failure).
 * @see apiFetch
 */
function loginUser(phone, password) {
    // ... منطق الدالة ...
}
ب. توثيق الملفات المساعدة (Helpers) وملفات API
هذه الملفات هي العمود الفقري للتبعيات ويجب توثيقها بدقة:

js/helpers/network.js: توثيق دالة apiFetch (أو ما يماثلها) يجب أن يشمل:

@param {string} endpoint: نقطة النهاية (المسار) في API.

@param {Object} [options]: خيارات الطلب (مثل method, body, headers).

@returns {Promise<Object>}: استجابة JSON من الخادم.

js/cart.js: توثيق دوال مثل removeFromCart(productKey):

@param {string} productKey: المفتاح الفريد للمنتج.

@returns {void} أو @returns {boolean}: إذا كانت الدالة تُحدّث المتغيرات المحلية أو ترجع حالة النجاح/الفشل.

ج. توثيق الثوابت والمتغيرات الهامة
إذا تم استخدام متغير ثابت (Constant) لتمثيل نقطة نهاية API أو إعدادات عامة (مثل في js/config.js):

JavaScript

/**
 * @description الثابت الخاص بعنوان URL الأساسي لنقاط نهاية API.
 * @type {string}
 * @const
 */
const API_BASE_URL = 'https://api.bazaar.com';
3. المعالجة الاستثنائية للـ Dead Code والتكرار
الكود الميت (Dead Code): إذا تم العثور على دالة أو متغير غير مستخدم، قم بإضافة العلامة @deprecated أو @ignore مع ملاحظة تشير إلى أنه يجب حذفه/إزالته بعد التأكد من عدم استخدامه.

التكرار: إذا تم اكتشاف منطق متكرر (مثل دوال متشابهة في التعامل مع DOM)، قم بتوثيق الدالتين وأضف ملاحظة @todo تشير إلى ضرورة توحيد المنطق في دالة واحدة في ملف Helpers.

ملاحظة نهائية لـ Agent Code:

"يجب أن تكون نتيجة هذه العملية توثيقًا يغطي 100% من الدوال والواجهات العامة (Public Interfaces) في ملفات JavaScript، مما يمكنني لاحقًا من استخراج مخطط التبعية الكامل وإدارة المشروع بأعلى كفاءة وأمان."



npm run docs